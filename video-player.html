<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xshiver - Video Player</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Fluid Player CSS -->
    <link href="https://cdn.fluidplayer.com/v3/current/fluidplayer.min.css" rel="stylesheet">
    <style>
        /* Your existing styles */
        .video-wrapper {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
            background: #000;
        }
        
        /* Make sure video container is visible */
        .main-video-player {
            padding: 20px;
            background: rgba(15, 15, 23, 0.9);
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        /* CSS for suggestion thumbnails - added to make thumbnails visible */
        .suggestion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .suggestion-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .suggestion-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(6, 182, 212, 0.5);
        }
        
        .thumbnail-container {
            position: relative;
            height: 200px;
            overflow: hidden;
        }
        
        .thumbnail-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .suggestion-card .video-info {
            padding: 1.5rem;
        }
        
        .suggestion-card .video-info h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #ffffff;
            line-height: 1.3;
        }
        
        .suggestion-card .video-meta {
            color: #9ca3af;
            font-size: 0.9rem;
            font-weight: 400;
        }
        
        /* Rest of your existing styles remain unchanged */
    </style>
</head>
<body>
    <div class="video-player-container">
        <div class="main-video-player">
            <!-- Fluid Player Container -->
            <div class="video-wrapper">
                <video id="xshiver-player">
                    <!-- Source will be added by JavaScript -->
                </video>
            </div>
            <div class="video-info">
                <h1 class="video-title" id="video-title">Loading video...</h1>
                <p class="video-description" id="video-description"></p>
                <p class="video-meta" id="video-meta"></p>
            </div>
        </div>
        
        <div class="suggestions-section">
            <h2 class="section-title">More Videos</h2>
            <div class="suggestion-grid" id="suggestion-grid">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Fluid Player JS -->
    <script src="https://cdn.fluidplayer.com/v3/current/fluidplayer.min.js"></script>
    
    <script>
        // Video Database
        const videos = {
            'video1': {
                title: 'Indian girl',
                description: 'Premium content',
                meta: '2.1M views • 3 days ago',
                src: 'https://pixeldrain.com/api/file/LSevn5uJ',
                thumbnail: 'https://pixeldrain.com/api/file/B1y9Y87z' // Your uploaded thumbnail
            },
            'video2': {
                title: 'HD Content',
                description: 'High quality video',
                meta: '1.5M views • 5 days ago',
                src: 'https://example.com/another-video.mp4', // Replace with real URL
                thumbnail: 'https://pixeldrain.com/api/file/B1y9Y87z'
            }
        };

        // Initialize Fluid Player
        let fluidPlayerInstance;
        
        function initializePlayer(videoUrl) {
            const videoElement = document.getElementById('xshiver-player');
            
            // Clear existing sources
            videoElement.innerHTML = '';
            
            // Add new source
            const source = document.createElement('source');
            source.src = videoUrl;
            source.type = 'video/mp4';
            videoElement.appendChild(source);
            
            // Initialize or reinitialize Fluid Player
            if (fluidPlayerInstance) {
                fluidPlayerInstance.destroy();
            }
            
            fluidPlayerInstance = fluidPlayer('xshiver-player', {
                layoutControls: {
                    primaryColor: "#28B8ED",
                    fillToContainer: true,
                    autoPlay: false,
                    posterImage: '' // You can add poster image URL here
                }
            });
            
            // Load the new video
            videoElement.load();
        }

        // Load video and update info
        function loadVideo(videoId) {
            const video = videos[videoId];
            if (!video) return;
            
            // Update URL without reload
            window.history.pushState({}, '', `?v=${videoId}`);
            
            // Update video player
            initializePlayer(video.src);
            
            // Update video info
            document.getElementById('video-title').textContent = video.title;
            document.getElementById('video-description').textContent = video.description;
            document.getElementById('video-meta').textContent = video.meta;
        }

        // Generate suggestion thumbnails
        function generateSuggestions() {
            const grid = document.getElementById('suggestion-grid');
            grid.innerHTML = '';
            
            Object.entries(videos).forEach(([id, video]) => {
                const card = document.createElement('div');
                card.className = 'suggestion-card';
                card.innerHTML = `
                    <div class="thumbnail-container">
                        <img src="${video.thumbnail}" alt="${video.title}" onerror="this.style.display='block'; this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23333%22/><text x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%220.3em%22 fill=%22white%22>No Image</text></svg>';">
                    </div>
                    <div class="video-info">
                        <h3>${video.title}</h3>
                        <p class="video-meta">${video.meta}</p>
                    </div>
                `;
                card.addEventListener('click', () => loadVideo(id));
                grid.appendChild(card);
            });
        }

        // On page load
        window.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const videoId = urlParams.get('v') || 'video1';
            
            generateSuggestions();
            loadVideo(videoId);
        });

        // Handle back/forward navigation
        window.addEventListener('popstate', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const videoId = urlParams.get('v') || 'video1';
            loadVideo(videoId);
        });
    </script>
</body>
</html>
