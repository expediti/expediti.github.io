<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xshiver - Video Player</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Add Fluid Player CSS -->
    <link href="https://cdn.fluidplayer.com/v3/current/fluidplayer.min.css" rel="stylesheet">
    <style>
        /* Your existing styles remain unchanged */
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            margin-bottom: 15px;
        }
        /* ... (keep all other existing styles) ... */
    </style>
</head>
<body>
    <div class="video-player-container">
        <div class="main-video-player">
            <!-- Replace iframe with Fluid Player -->
            <div class="video-wrapper">
                <video id="xshiver-video">
                    <source src="https://pixeldrain.com/api/file/LSevn5uJ" type="video/mp4">
                </video>
            </div>
            <div class="video-info">
                <h1 class="video-title" id="video-title">Video Title</h1>
                <p class="video-description" id="video-description">Video description will appear here.</p>
                <p class="video-meta" id="video-meta">1.2M views • 5 days ago</p>
            </div>
        </div>
        
        <div class="suggestions-section">
            <h2 class="section-title">More Videos</h2>
            <div class="suggestion-grid" id="suggestion-grid">
                <!-- Suggestions populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Fluid Player JS -->
    <script src="https://cdn.fluidplayer.com/v3/current/fluidplayer.min.js"></script>
    
    <script>
        const videos = {
            'video1': {
                id: 'video1',
                title: 'Indian girl',
                meta: '2.1M views • 3 days ago',
                description: 'Indian girl',
                src: 'https://pixeldrain.com/api/file/LSevn5uJ',
                thumbnail: 'https://i.imgur.com/example1.jpg'
            },
            'video2': {
                id: 'video2',
                title: 'Tech Innovation Spotlight',
                meta: '890K views • 1 week ago',
                description: 'The latest in tech innovations.',
                src: 'https://pixeldrain.com/api/file/anothervideocode',
                thumbnail: 'https://i.imgur.com/example2.jpg'
            }
        };

        // Initialize Fluid Player
        function initFluidPlayer(videoSrc) {
            return fluidPlayer('xshiver-video', {
                layoutControls: {
                    primaryColor: "#28B8ED",
                    fillToContainer: true,
                    autoPlay: false,
                    posterImage: videos[videoSrc]?.thumbnail || ''
                }
            });
        }

        function loadVideo(videoId) {
            const video = videos[videoId];
            if (!video) return;
            
            window.history.pushState(null, null, '?v=' + videoId);
            
            // Update video source
            const videoElement = document.getElementById('xshiver-video');
            videoElement.innerHTML = `<source src="${video.src}" type="video/mp4">`;
            
            // Reinitialize Fluid Player
            initFluidPlayer(videoId);
            
            // Update info
            document.getElementById('video-title').textContent = video.title;
            document.getElementById('video-meta').textContent = video.meta;
            document.getElementById('video-description').textContent = video.description;
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function generateSuggestionCards() {
            const grid = document.getElementById('suggestion-grid');
            grid.innerHTML = '';
            
            for (const [id, video] of Object.entries(videos)) {
                const card = document.createElement('div');
                card.className = 'suggestion-card';
                card.onclick = () => loadVideo(id);
                
                card.innerHTML = `
                    <div class="thumbnail-container">
                        <img src="${video.thumbnail}" alt="${video.title}" loading="lazy">
                    </div>
                    <div class="video-info">
                        <h3>${video.title}</h3>
                        <p class="video-meta">${video.meta}</p>
                    </div>
                `;
                
                grid.appendChild(card);
            }
        }

        // Initialize
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const videoId = urlParams.get('v') || 'video1';
            initFluidPlayer(videoId);
            loadVideo(videoId);
            generateSuggestionCards();
        };

        window.onpopstate = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const videoId = urlParams.get('v') || 'video1';
            loadVideo(videoId);
        };
    </script>
</body>
</html>
