<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xshiver - Video Streaming Platform</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>Xshiver</h1>
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#trending">Trending</a></li>
                    <li><a href="#subscriptions">Subscriptions</a></li>
                    <li><a href="#library">Library</a></li>
                </ul>
            </nav>
            <div class="search-bar">
                <input type="text" placeholder="Search videos..." id="searchInput">
                <button onclick="searchVideos()">üîç</button>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <section class="hero-section">
                <h2>Welcome to Xshiver</h2>
                <p>Discover amazing videos from creators around the world</p>
            </section>

            <section class="videos-section">
                <h3>Latest Videos</h3>
                <div class="video-grid" id="videoGrid">
                    <!-- Videos will be loaded here dynamically -->
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Xshiver. All rights reserved.</p>
        </div>
    </footer>

    <script src="videos-data.js"></script>
    <script>
        // Load videos from the data file
        function loadVideos() {
            const videoGrid = document.getElementById('videoGrid');
            videoGrid.innerHTML = '';

            if (typeof videosData !== 'undefined' && videosData.length > 0) {
                videosData.forEach(video => {
                    const videoCard = createVideoCard(video);
                    videoGrid.appendChild(videoCard);
                });
            } else {
                videoGrid.innerHTML = '<p class="no-videos">No videos available. Please add videos to videos-data.js</p>';
            }
        }

        function createVideoCard(video) {
            const card = document.createElement('div');
            card.className = 'video-card';
            card.onclick = () => openVideo(video.id);

            card.innerHTML = `
                <div class="video-thumbnail">
                    <img src="${video.thumbnail}" alt="${video.title}" onerror="this.src='https://via.placeholder.com/320x180?text=No+Thumbnail'">
                    <div class="video-duration">${video.duration}</div>
                </div>
                <div class="video-info">
                    <h4 class="video-title">${video.title}</h4>
                    <p class="video-channel">${video.channel}</p>
                    <div class="video-meta">
                        <span class="views">${video.views} views</span>
                        <span class="upload-date">${video.uploadDate}</span>
                    </div>
                </div>
            `;

            return card;
        }

        function openVideo(videoId) {
            window.location.href = `video-player.html?id=${videoId}`;
        }

        function searchVideos() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const videoGrid = document.getElementById('videoGrid');
            videoGrid.innerHTML = '';

            const filteredVideos = videosData.filter(video => 
                video.title.toLowerCase().includes(searchTerm) ||
                video.channel.toLowerCase().includes(searchTerm) ||
                video.description.toLowerCase().includes(searchTerm)
            );

            if (filteredVideos.length > 0) {
                filteredVideos.forEach(video => {
                    const videoCard = createVideoCard(video);
                    videoGrid.appendChild(videoCard);
                });
            } else {
                videoGrid.innerHTML = '<p class="no-videos">No videos found matching your search.</p>';
            }
        }

        // Load videos when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Small delay to ensure videos-data.js is loaded
            setTimeout(loadVideos, 100);
        });

        // Handle Enter key in search
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchVideos();
            }
        });
    </script>
</body>
</html>
